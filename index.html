<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë§íˆê¸° ê²Œì„</title>
  <style>
    body { font-family: "Pretendard", sans-serif; text-align:center; margin:0; background:#f1f5f9; color:#1e293b; }
    button { padding:12px 25px; font-size:1.1rem; border:none; border-radius:10px; cursor:pointer; transition:all 0.3s ease; background:#2563eb; color:white; margin:10px; position:relative; }
    button:hover { background:#1e3a8a; transform:scale(1.05); }
    .screen { display:none; padding:40px; animation:fadeIn 0.4s ease; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
    #main-screen { display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; background:linear-gradient(135deg, #3b82f6, #1e3a8a); color:white; }
    #main-screen h1 { font-size:3rem; margin-bottom:40px; }
    .main-buttons-container { margin-top:15vh; }
    #category-screen { background:#f8fafc; }
    .category-grid { display:grid; grid-template-columns:repeat(3, 1fr); gap:15px; max-width:800px; margin:30px auto; }
    .category-grid button { background:#94a3b8; color:white; width:100%; height:60px; font-size:1rem; }
    .category-grid button:hover { background:#475569; }
    .tooltip { visibility:hidden; opacity:0; background:rgba(0,0,0,0.85); color:white; text-align:center; border-radius:8px; padding:10px 14px; position:absolute; top:-70px; left:50%; transform:translateX(-50%) translateY(10px); transition:opacity 0.3s ease, transform 0.3s ease; width:max-content; max-width:340px; font-size:0.9rem; line-height:1.5; z-index:10; pointer-events:none; }
    .tooltip::after { content:""; position:absolute; bottom:-6px; left:50%; transform:translateX(-50%); border-width:6px; border-style:solid; border-color:rgba(0,0,0,0.85) transparent transparent transparent; }
    .tooltip-container { display:inline-block; position:relative; }
    .tooltip-container:hover .tooltip { visibility:visible; opacity:1; transform:translateX(-50%) translateY(0); }

    /* ìˆ«ìì•¼êµ¬ ê²Œì„ */
    #game-screen h1 { color:#2563eb; }
    ul { list-style:none; padding:0; max-width:300px; margin:20px auto; }
    li { margin:8px 0; padding:8px; background:#e2e8f0; border-radius:8px; }
    .info { margin-top:15px; font-weight:bold; }

    /* ê³¼ì ê²Œì„ */
    #snack-game img, #animal-game img { max-width:300px; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.2); margin-bottom:20px; }
    .hidden { display:none; }
    .small { font-size:0.9rem; color:#334155; }

    /* í°íŠ¸ ë§íˆê¸° */
    #font-game span { cursor:pointer; display:inline-block; margin:0 5px; font-size:2rem; user-select:none; }
    #font-game .helvetica { font-family:"Helvetica", sans-serif; }
    #font-game .other { font-family:"Arial", sans-serif; }
  </style>
</head>
<body>
  <!-- ë©”ì¸ í™”ë©´ -->
  <div id="main-screen" class="screen" style="display:flex;">
    <h1>ë§íˆê¸° ê²Œì„</h1>
    <div class="main-buttons-container">
      <div class="tooltip-container"><button id="categoryBtn">ì¹´í…Œê³ ë¦¬</button><span class="tooltip">ì–¸ì–´Â·ìˆ˜í•™Â·ë…¼ë¦¬ ë“±ì˜ ë¬¸ì œ ìœ í˜•ì„ ê³¨ë¼ì„œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</span></div>
      <div class="tooltip-container"><button id="classicBtn">í´ë˜ì‹</button><span class="tooltip">ì—¬ëŸ¬ ê°€ì§€ ì¹´í…Œê³ ë¦¬ê°€ ì„ì¸ ë°©ì‹ìœ¼ë¡œ í‹€ë¦´ ë•Œê¹Œì§€ ì§„í–‰ë©ë‹ˆë‹¤</span></div>
    </div>
  </div>

  <!-- ì¹´í…Œê³ ë¦¬ í™”ë©´ -->
  <div id="category-screen" class="screen">
    <h2>ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>
    <div class="category-grid">
      <div class="tooltip-container"><button>ì–¸ì–´</button><span class="tooltip">ë§ì¶¤ë²•, ì†ë‹´, ì‚¬ìì„±ì–´, ì–´ì›</span></div>
      <div class="tooltip-container"><button id="mathLogicBtn">ìˆ˜í•™Â·ë…¼ë¦¬</button><span class="tooltip">ê³„ì‚°, í™•ë¥ , ë„í˜•, ë…¼ë¦¬ í€´ì¦ˆ, ìˆ˜ì—´</span></div>
      <div class="tooltip-container"><button id="scienceBtn">ê³¼í•™</button><span class="tooltip">ë™ë¬¼, ì‹ë¬¼, ìƒë¬¼í•™, ì§€êµ¬ê³¼í•™</span></div>
      <div class="tooltip-container"><button>ì‚¬íšŒÂ·ì •ì¹˜Â·ë²•</button><span class="tooltip">ì •ë¶€ êµ¬ì¡°, í—Œë²•, ì‚¬íšŒ ì œë„</span></div>
      <div class="tooltip-container"><button>ê²½ì œÂ·ê¸ˆìœµ</button><span class="tooltip">í™˜ìœ¨, ì£¼ì‹, ì„¸ê¸ˆ, í†µí™”</span></div>
      <div class="tooltip-container"><button>ë¬¸í™”Â·ì˜ˆìˆ Â·ìŠ¤í¬ì¸ </button><span class="tooltip">ë¯¸ìˆ , ìŒì•…, ë¬¸í•™, ì˜í™”, ì—°ê·¹, ë””ìì¸, ìŠ¤í¬ì¸ </span></div>
      <div class="tooltip-container"><button>ITÂ·ê¸°ìˆ </button><span class="tooltip">ì»´í“¨í„°, ìŠ¤ë§ˆíŠ¸í°, ì¸í„°ë„· ìš©ì–´, AI, í”„ë¡œê·¸ë˜ë°</span></div>
      <div class="tooltip-container"><button id="snackBtn">ìƒí™œìƒì‹</button><span class="tooltip">ê±´ê°•, ìŒì‹, ì•ˆì „, ì†Œë¹„, êµí†µ, ë§¤ë„ˆ, ì¬í™œìš©</span></div>
      <div class="tooltip-container"><button>ë¬¸í•™Â·ì² í•™Â·ì¢…êµ</button><span class="tooltip">ê³ ì „ ëª…ì–¸, ì‚¬ìƒê°€, ì„±ê²½Â·ë¶ˆê²½Â·ì‹ í™”</span></div>
      <div class="tooltip-container"><button id="fontBtn">ì°½ì˜Â·ë‘ë‡Œí¼ì¦</button><span class="tooltip">ìˆ˜ìˆ˜ê»˜ë¼, IQ ë¬¸ì œ, íŒ¨í„´ ì¶”ë¦¬, í°íŠ¸ ë§íˆê¸°</span></div>
      <div class="tooltip-container"><button>ì¡í•™</button><span class="tooltip">ì§„ì§œ ì¡ì§€ì‹</span></div>
    </div>
    <button id="backToMainBtn">â¬… ë©”ì¸ìœ¼ë¡œ</button>
  </div>

  <!-- í°íŠ¸ ë§íˆê¸° í™”ë©´ -->
  <div id="font-game" class="screen">
    <h1>í°íŠ¸ ë§íˆê¸°</h1>
    <p id="fontGuessResult" class="info">ê¸€ì ì¤‘ Helvetica ê¸€ìë¥¼ í´ë¦­í•˜ê³  í™•ì¸ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”!</p>
    <div id="lettersContainer"></div>
    <button id="fontCheckBtn">ì •ë‹µ í™•ì¸</button>
    <button id="backToCategoryBtnFont">â¬… ì¹´í…Œê³ ë¦¬ë¡œ ëŒì•„ê°€ê¸°</button>
  </div>

  <!-- ê³¼ì ì´ë¦„ ë§íˆê¸° í™”ë©´ -->
  <div id="snack-game" class="screen">
    <h1>ê³¼ì ì´ë¦„ ë§íˆê¸° </h1>
    <p class="small">ê°€ë ¤ì§„ ì´ë¯¸ì§€ë¥¼ ë³´ê³  ê³¼ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.</p>
    <img id="snackImage" src="" alt="ë¬¸ì œ ì´ë¯¸ì§€">
    <img id="answerImage" src="" alt="ì •ë‹µ ì´ë¯¸ì§€" class="hidden">
    <div id="answerSection">
      <input id="answerInput" type="text" placeholder="ê³¼ì ì´ë¦„ ì…ë ¥" />
      <button id="snackCheckBtn">í™•ì¸</button>
    </div>
    <p id="snackResult" class="info"></p>
    <div style="margin-top:14px;">
      <button id="nextSnackBtn" class="hidden">ë‹¤ìŒ ë¬¸ì œ â–¶</button>
      <button id="backToCategoryBtn2">â¬… ì¹´í…Œê³ ë¦¬ë¡œ ëŒì•„ê°€ê¸°</button>
    </div>
  </div>

  <!-- ë™ë¬¼ ë§íˆê¸° í™”ë©´ -->
  <div id="animal-game" class="screen">
    <h1>ë™ë¬¼ ë§íˆê¸°</h1>
    <p class="small">ê°€ë ¤ì§„ ì´ë¯¸ì§€ë¥¼ ë³´ê³  ë™ë¬¼ ì´ë¦„ í˜¹ì€ ì¢…ì†ê³¼ëª©ê°•ë¬¸ê³„ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
    <img id="animalImage" src="" alt="ë¬¸ì œ ì´ë¯¸ì§€">
    <img id="animalAnswerImage" src="" alt="ì •ë‹µ ì´ë¯¸ì§€" class="hidden">
    <div id="animalAnswerSection">
      <input id="animalAnswerInput" type="text" placeholder="ì…ë ¥" />
      <button id="animalCheckBtn">í™•ì¸</button>
    </div>
    <p id="animalResult" class="info"></p>
    <div style="margin-top:14px;">
      <button id="nextAnimalBtn" class="hidden">ë‹¤ìŒ ë¬¸ì œ â–¶</button>
      <button id="backToCategoryBtnAnimal">â¬… ì¹´í…Œê³ ë¦¬ë¡œ ëŒì•„ê°€ê¸°</button>
    </div>
  </div>

  <!-- ìˆ«ìì•¼êµ¬ ê²Œì„ í™”ë©´ -->
  <div id="game-screen" class="screen">
    <h1>4ìë¦¬ ìˆ«ìì•¼êµ¬</h1>
    <p>ì„œë¡œ ë‹¤ë¥¸ ìˆ«ì 4ê°œë¥¼ ë§í˜€ë³´ì„¸ìš”! (ì‹œë„ íšŸìˆ˜: ìµœëŒ€ 6ë²ˆ)</p>
    <input type="text" id="userInput" placeholder="ì˜ˆ: 1234" maxlength="4" />
    <button id="checkBtn">í™•ì¸</button>
    <p class="info" id="triesInfo">í˜„ì¬ ì‹œë„: 0 / 6</p>
    <ul id="log"></ul>
    <button id="backToCategoryBtn">â¬… ì¹´í…Œê³ ë¦¬ë¡œ ëŒì•„ê°€ê¸°</button>
  </div>

  <script>
    function showScreen(id) {
      document.querySelectorAll(".screen").forEach(s => s.style.display = "none");
      document.getElementById(id).style.display = (id==="main-screen")?"flex":"block";
    }

    document.getElementById("categoryBtn").addEventListener("click",()=>showScreen("category-screen"));
    document.getElementById("backToMainBtn").addEventListener("click",()=>showScreen("main-screen"));
    document.getElementById("classicBtn").addEventListener("click",()=>alert("í´ë˜ì‹ ëª¨ë“œëŠ” ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!"));
    document.getElementById("backToCategoryBtnFont").addEventListener("click",()=>showScreen("category-screen"));

    // í°íŠ¸ ë§íˆê¸°
    const fontBtn = document.getElementById("fontBtn");
    fontBtn.addEventListener("click", ()=>{
      showScreen("font-game");
      startFontGame();
    });

    let fontCorrectIndex=null;
    let fontSelectedIndex=null;
    let fontChecked=false;

    function startFontGame(){
      const lettersContainer = document.getElementById("lettersContainer");
      lettersContainer.innerHTML="";
      fontCorrectIndex = Math.floor(Math.random()*12);
      fontSelectedIndex=null;
      fontChecked=false;

      for(let i=0;i<12;i++){
        const span=document.createElement("span");
        span.textContent=String.fromCharCode(65+i);
        span.className=(i===fontCorrectIndex)?"helvetica":"other";
        span.dataset.index=i;
        span.style.textDecoration="none";
        span.addEventListener("click", ()=>{
          if(fontChecked) return;
          if(fontSelectedIndex!==null) lettersContainer.children[fontSelectedIndex].style.textDecoration="none";
          span.style.textDecoration="underline";
          fontSelectedIndex=i;
        });
        lettersContainer.appendChild(span);
      }
      document.getElementById("fontGuessResult").textContent="ê¸€ì ì¤‘ Helvetica ê¸€ìë¥¼ í´ë¦­í•˜ê³  í™•ì¸ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”!";
      document.getElementById("fontGuessResult").style.color="#1e293b";
    }

    document.getElementById("fontCheckBtn").addEventListener("click",()=>{
      if(fontChecked) return;
      fontChecked=true;
      const lettersContainer=document.getElementById("lettersContainer");
      for(let i=0;i<lettersContainer.children.length;i++){
        lettersContainer.children[i].style.pointerEvents="none";
      }

      const result=document.getElementById("fontGuessResult");
      if(fontSelectedIndex===fontCorrectIndex){
        result.textContent="ëª¨ë‘ ë§í˜”ìŠµë‹ˆë‹¤!";
        result.style.color="#16a34a";
      }else{
        result.textContent=`í‹€ë ¸ìŠµë‹ˆë‹¤! Helvetica ê¸€ìëŠ” "${lettersContainer.children[fontCorrectIndex].textContent}"ì…ë‹ˆë‹¤.`;
        result.style.color="#dc2626";
        lettersContainer.children[fontCorrectIndex].style.textDecoration="underline";
      }
    });

    // ê³¼ì ë§íˆê¸°
    const snackData=[
      { q:"images/ChocoSongi_q.JPG",a:"ì´ˆì½”ì†¡ì´",reveal:"images/ChocoSongi_a.JPG" },
      { q:"images/pocachip_q.JPG",a:"í¬ì¹´ì¹©ì˜¤ë¦¬ì§€ë„",reveal:"images/pocachip_a.JPG" },
      { q:"images/PotetochipOriginal_q.JPG",a:"í¬í…Œí† ì¹©ì˜¤ë¦¬ì§€ë„",reveal:"images/PotetochipOriginal_a.JPG" },
      { q:"images/JjolbyeongMaekomhanMat_q.JPG",a:"ì«„ë³‘ë§¤ì½¤í•œë§›",reveal:"images/JjolbyeongMaekomhanMat_a.JPG" }
    ];
    let snackProblems=[];
    let currentSnack=0;
    function shuffleArray(arr){for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}return arr;}
    document.getElementById("snackBtn").addEventListener("click",()=>{snackProblems=shuffleArray(snackData.slice());currentSnack=0;showScreen("snack-game");loadSnack();});
    function loadSnack(){const p=snackProblems[currentSnack];document.getElementById("snackImage").src=p.q;document.getElementById("answerImage").classList.add("hidden");document.getElementById("snackResult").textContent="";document.getElementById("answerInput").value="";document.getElementById("nextSnackBtn").classList.add("hidden");document.getElementById("answerSection").style.display="block";document.getElementById("answerInput").focus();document.getElementById("snackImage").classList.remove("hidden");}
    function checkAnswer(){const p=snackProblems[currentSnack];const userInput=document.getElementById("answerInput").value.trim();const result=document.getElementById("snackResult");if(!userInput)return alert("ì •ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");const normalize=s=>s.replace(/\s/g,"").toLowerCase();if(normalize(userInput)===normalize(p.a)){result.textContent="âœ… ë§ì•˜ìŠµë‹ˆë‹¤!";result.style.color="#16a34a";}else{result.textContent=`âŒ í‹€ë ¸ìŠµë‹ˆë‹¤! (ì •ë‹µ: ${p.a})`;result.style.color="#dc2626";}document.getElementById("snackImage").classList.add("hidden");document.getElementById("answerImage").src=p.reveal;document.getElementById("answerImage").classList.remove("hidden");document.getElementById("answerSection").style.display="none";document.getElementById("nextSnackBtn").classList.remove("hidden");}
    document.getElementById("snackCheckBtn").addEventListener("click",checkAnswer);
    document.getElementById("answerInput").addEventListener("keydown",e=>{if(e.key==="Enter")checkAnswer();});
    document.getElementById("nextSnackBtn").addEventListener("click",()=>{currentSnack++;if(currentSnack>=snackProblems.length){alert("ëª¨ë“  ë¬¸ì œë¥¼ í’€ì—ˆìŠµë‹ˆë‹¤! ğŸ‰");showScreen("category-screen");}else{loadSnack();}});
    document.getElementById("backToCategoryBtn2").addEventListener("click",()=>showScreen("category-screen"));

    // ë™ë¬¼ ë§íˆê¸° ë°ì´í„°
    const animalData=[
      { q:"images/anim/acau_q.JPG", a:"ì•…ì–´ê±°ë¶", reveal:"images/anim/acau_a.JPG" },
      { q:"images/anim/adeli_q.JPG", a:"ì•„ë¸ë¦¬í­ê·„", reveal:"images/anim/adeli_a.JPG" },
      { q:"images/anim/agi_q.JPG", a:"ì• ê¸°ì›œë±ƒ", reveal:"images/anim/agi_a.JPG" },
      { q:"images/anim/ahob_q.JPG", a:"ì•„í™‰ë ì•„ë¥´ë§ˆë”œë¡œ", reveal:"images/anim/ahob_a.JPG" },
      { q:"images/anim/alac_q.JPG", a:"ì•Œë½ê¼¬ë¦¬ê³ ì–‘ì´", reveal:"images/anim/alac_a.JPG" },
      { q:"images/anim/andes_q.JPG", a:"ì•„ë©”ë¦¬ì¹´ê²€ì€ëŒ•ê¸°í•´ì˜¤ë¼ê¸°", reveal:"images/anim/andes_a.JPG" },
      { q:"images/anim/angkarana_q.JPG", a:"ì•ˆë°ìŠ¤ì‚°ê³ ì–‘ì´", reveal:"images/anim/angkarana_a.JPG" },
      { q:"images/anim/angung_q.JPG", a:"ì•™ì¹´ë¼ë‚˜ì¡±ì œë¹„ì—¬ìš°ì›ìˆ­ì´", reveal:"images/anim/angung_a.JPG" },
      { q:"images/anim/bacg_q.JPG", a:"ë‚¨ë°©ì•ˆê²½ì˜ì›", reveal:"images/anim/bacg_a.JPG" },
      { q:"images/anim/bacge_q.JPG", a:"ë°•ì¥ê·€ì—¬ìš°", reveal:"images/anim/bacge_a.JPG" },
      { q:"images/anim/bachu_q.JPG", a:"ë°°ì¶”í°ë‚˜ë¹„", reveal:"images/anim/bachu_a.JPG" },
      { q:"images/anim/bau_q.JPG", a:"ë…¸ë‘ë°˜ì ë°”ìœ„ë„ˆêµ¬ë¦¬", reveal:"images/anim/bau_a.JPG" },
      { q:"images/anim/bonith_q.JPG", a:"ë³´ë‹›í—¤ë“œê·€ìƒì–´", reveal:"images/anim/bonith_a.JPG" },
      { q:"images/anim/buchi_q.JPG", a:"ìë©”ì´ì¹´ë²Œì¡ì´ë¶€ì¹˜ìƒˆ", reveal:"images/anim/buchi_a.JPG" },
      { q:"images/anim/bulgam_q.JPG", a:"ë²Œê°í­", reveal:"images/anim/bulgam_a.JPG" },
      { q:"images/anim/bulgend_q.JPG", a:"ë¶‰ì€ë‹¤ë¦¬ê°œêµ¬ë¦¬", reveal:"images/anim/bulgend_a.JPG" },
      { q:"images/anim/burij_q.JPG", a:"ë…¸ë‘ë¶€ë¦¬ì €ì–´ìƒˆ", reveal:"images/anim/burij_a.JPG" },
      { q:"images/anim/cano_q.JPG", a:"ì¹´ë…¸ë‘ë”ì§€", reveal:"images/anim/cano_a.JPG" },
      { q:"images/anim/carive_q.JPG", a:"ì¹´ë¦¬ë¸Œì•”ì´ˆê¼´ëšœê¸°", reveal:"images/anim/carive_a.JPG" },
      { q:"images/anim/casp_q.JPG", a:"ì¹´ìŠ¤í”¼ì±„ì°ë±€", reveal:"images/anim/casp_a.JPG" },
      { q:"images/anim/cham_q.JPG", a:"ì°¸ê²Œ", reveal:"images/anim/cham_a.JPG" },
      { q:"images/anim/chamm_q.JPG", a:"ì°¸ë¬¸ì–´", reveal:"images/anim/chamm_a.JPG" },
      { q:"images/anim/chorug_q.JPG", a:"ì´ˆë¡ë‚˜ë¬´ë¹„ë‹¨ë±€", reveal:"images/anim/chorug_a.JPG" },
      { q:"images/anim/codcod_q.JPG", a:"ì½”ë“œì½”ë“œ", reveal:"images/anim/codcod_a.JPG" },
      { q:"images/anim/cuten_q.JPG", a:"ì»¤íŠ¼ì›ì–‘í•´íŒŒë¦¬", reveal:"images/anim/cuten_a.JPG" },
      { q:"images/anim/ddangdoa_q.JPG", a:"ë•…ë¼ì§€", reveal:"images/anim/ddangdoa_a.JPG" },
      { q:"images/anim/dongsu_q.JPG", a:"ë™ìˆ˜êµ¬ë¦¬", reveal:"images/anim/dongsu_a.JPG" },
      { q:"images/anim/dotom_q.JPG", a:"ë„í†°ê¼¬ë¦¬ë„ë§ˆë±€ë¶™ì´", reveal:"images/anim/dotom_a.JPG" },
      { q:"images/anim/dotori_q.JPG", a:"ë„í† ë¦¬ê·€ê³ ë‘¥", reveal:"images/anim/dotori_a.JPG" },
      { q:"images/anim/dumbul_q.JPG", a:"ë¤ë¶ˆí•´ì˜¤ë¼ê¸°", reveal:"images/anim/dumbul_a.JPG" },
      { q:"images/anim/g_q.JPG", a:"ì‚¬í–¥ì¥ìº¥ê±°ë£¨", reveal:"images/anim/g_a.JPG" },
      { q:"images/anim/gabir_q.JPG", a:"ê°€ë¹„ì•Œ", reveal:"images/anim/gabir_a.JPG" },
      { q:"images/anim/galsacu_q.JPG", a:"ê°ˆìƒ‰ì–¼ê±°ë‹ˆìƒˆ", reveal:"images/anim/galsacu_a.JPG" },
      { q:"images/anim/gami_q.JPG", a:"ì£¼ë¨¸ë‹ˆê°œë¯¸í•¥ê¸°", reveal:"images/anim/gami_a.JPG" },
      { q:"images/anim/garo_q.JPG", a:"ê°€ë¡œì¤„ë¬´ëŠ¬ìì¹¼", reveal:"images/anim/garo_a.JPG" },
      { q:"images/anim/gin_q.JPG", a:"ê¸´ê¼¬ë¦¬ì™ˆë¼ë¹„", reveal:"images/anim/gin_a.JPG" },
      { q:"images/anim/gmgang_q.JPG", a:"ê¸ˆê°•ì•µë¬´", reveal:"images/anim/gmgang_a.JPG" },
      { q:"images/anim/gmnun_q.JPG", a:"ê·¸ë¬¸ì‡ ì˜¬ë¹¼ë¯¸", reveal:"images/anim/gmnun_a.JPG" },
      { q:"images/anim/goni_q.JPG", a:"ê¸°ëŸ¬ê¸°ì•„ê³¼", reveal:"images/anim/goni_a.JPG" },
      { q:"images/anim/goun_q.JPG", a:"ê³ ìš´ì ë°•ì´í‘¸ë¥¸ë¶€ì „ë‚˜ë¹„", reveal:"images/anim/goun_a.JPG" },
      { q:"images/anim/goyange_q.JPG", a:"ì•„ì‹œì•„í™©ê¸ˆê³ ì–‘ì´", reveal:"images/anim/goyange_a.JPG" },
      { q:"images/anim/gripon_q.JPG", a:"ê·¸ë¦¬í°ë…ìˆ˜ë¦¬", reveal:"images/anim/gripon_a.JPG" },
      { q:"images/anim/gubug_q.JPG", a:"ëŠªê°€ë¡œëª©ê±°ë¶", reveal:"images/anim/gubug_a.JPG" },
      { q:"images/anim/guisin_q.JPG", a:"ë¶ì•„ë©”ë¦¬ì¹´ê·€ì‹ ì†Œì©ìƒˆ", reveal:"images/anim/guisin_a.JPG" },
      { q:"images/anim/gurm_q.JPG", a:"êµ¬ë¦„í‘œë²”", reveal:"images/anim/gurm_a.JPG" },
      { q:"images/anim/hinco_q.JPG", a:"í°ì½”ì‚¬í–¥ê³ ì–‘ì´", reveal:"images/anim/hinco_a.JPG" },
      { q:"images/anim/hindeng_q.JPG", a:"ê³ ì‚°ëŒ€ë¨¸ë¦¬ìˆ˜ë¦¬ì†", reveal:"images/anim/hindeng_a.JPG" },
      { q:"images/anim/hinul_q.JPG", a:"ë°±ë¡œì†", reveal:"images/anim/hinul_a.JPG" },
      { q:"images/anim/horangn_q.JPG", a:"ì ˆì§€ë™ë¬¼ë¬¸", reveal:"images/anim/horangn_a.JPG" },
      { q:"images/anim/hu_q.JPG", a:"ì–¼ë£©í‘¸ë¥¸í˜€ë„ë§ˆë±€", reveal:"images/anim/hu_a.JPG" },
      { q:"images/anim/jacengo_q.JPG", a:"ì‘ì€ê³ ìŠ¤ë„ì¹˜í™ì–´", reveal:"images/anim/jacengo_a.JPG" },
      { q:"images/anim/jan_q.JPG", a:"ì”ì ë°•ì´ë¬¼ë²”", reveal:"images/anim/jan_a.JPG" },
      { q:"images/anim/jangnims_q.JPG", a:"ìˆ˜ì—¼ìƒì–´ëª©", reveal:"images/anim/jangnims_a.JPG" },
      { q:"images/anim/jenet_q.JPG", a:"ë¶‰ì€ì ë°•ì´ì œë„·", reveal:"images/anim/jenet_a.JPG" },
      { q:"images/anim/jirenge_q.JPG", a:"ì´ë² ë¦¬ì•„ì§€ë ì´ë„ë§ˆë±€", reveal:"images/anim/jirenge_a.JPG" },
      { q:"images/anim/jugle_q.JPG", a:"ì²™ì‚­ë™ë¬¼ë¬¸", reveal:"images/anim/jugle_a.JPG" },
      { q:"images/anim/jumbace_q.JPG", a:"í•˜ì´ì—ë‚˜ê³¼", reveal:"images/anim/jumbace_a.JPG" },
      { q:"images/anim/jummug_q.JPG", a:"ë„¤ë°œë‚˜ë¹„ê³¼", reveal:"images/anim/jummug_a.JPG" },
      { q:"images/anim/kanggu_q.JPG", a:"ìº¥ê±°ë£¨ì¥", reveal:"images/anim/kanggu_a.JPG" },
      { q:"images/anim/macaroni_q.JPG", a:"ë§ˆì¹´ë¡œë‹ˆí­ê·„", reveal:"images/anim/macaroni_a.JPG" },
      { q:"images/anim/mal_q.JPG", a:"ë§ì‚¬ìŠ´", reveal:"images/anim/mal_a.JPG" },
      { q:"images/anim/malddong_q.JPG", a:"ë¶‰ì€ê¼¬ë¦¬ë§ë˜¥ê°€ë¦¬", reveal:"images/anim/malddong_a.JPG" },
      { q:"images/anim/mangchi_q.JPG", a:"ë§ì¹˜ë¨¸ë¦¬í™©ìƒˆ", reveal:"images/anim/mangchi_a.JPG" },
      { q:"images/anim/moggule_q.JPG", a:"ëª©ê±¸ì´ì¦ë¶€ë¦¬", reveal:"images/anim/moggule_a.JPG" },
      { q:"images/anim/mongus_q.JPG", a:"í°ë ëª½êµ¬ìŠ¤", reveal:"images/anim/mongus_a.JPG" },
      { q:"images/anim/moniddo_q.JPG", a:"ëª¨ë‹ˆë˜ë¸ëª¬í† ", reveal:"images/anim/moniddo_a.JPG" },
      { q:"images/anim/mora_q.JPG", a:"ëª¨ë˜ê³ ì–‘ì´", reveal:"images/anim/mora_a.JPG" },
      { q:"images/anim/mugda_q.JPG", a:"ë¨¹ëŒ€ê°€ë¦¬ë¹„ë‹¨ë±€", reveal:"images/anim/mugda_a.JPG" },
      { q:"images/anim/mul_q.JPG", a:"ë¬¼ë‹­", reveal:"images/anim/mul_a.JPG" },
      { q:"images/anim/mutjange_q.JPG", a:"í°ë©‹ìŸì´ë‚˜ë¹„", reveal:"images/anim/mutjange_a.JPG" },
      { q:"images/anim/namu_q.JPG", a:"ë¦°ë„¤ë‘ë°œê°€ë½ë‚˜ë¬´ëŠ˜ë³´", reveal:"images/anim/namu_a.JPG" },
      { q:"images/anim/orino_q.JPG", a:"ì˜¤ë¦¬ë…¸ì½”ì•…ì–´", reveal:"images/anim/orino_a.JPG" },
      { q:"images/anim/palma_q.JPG", a:"íŒ”ë§ˆì™ˆë¼ë¹„", reveal:"images/anim/palma_a.JPG" },
      { q:"images/anim/paloba_q.JPG", a:"í•„ë¡œë°”í…ŒìŠ¤í…Œë¦¬ë¹Œë¦¬ìŠ¤", reveal:"images/anim/paloba_a.JPG" },
      { q:"images/anim/paran_q.JPG", a:"íŒŒë€ê³ ë¦¬ë¬¸ì–´", reveal:"images/anim/paran_a.JPG" },
      { q:"images/anim/posa_q.JPG", a:"í¬ì‚¬", reveal:"images/anim/posa_a.JPG" },
      { q:"images/anim/pyobum_q.JPG", a:"í‘œë²”íì–´", reveal:"images/anim/pyobum_a.JPG" },
      { q:"images/anim/rdavra_q.JPG", a:"ì•Œë‹¤ë¸Œë¼ì½”ë¼ë¦¬ê±°ë¶", reveal:"images/anim/rdavra_a.JPG" },
      { q:"images/anim/saki_q.JPG", a:"í°ì–¼êµ´ì‚¬í‚¤ì›ìˆ­ì´", reveal:"images/anim/saki_a.JPG" },
      { q:"images/anim/sanchung_q.JPG", a:"ì‚°ì²­ê°œêµ¬ë¦¬", reveal:"images/anim/sanchung_a.JPG" },
      { q:"images/anim/sangg_q.JPG", a:"í°ìƒì¥ê·€ë°•ì¥", reveal:"images/anim/sangg_a.JPG" },
      { q:"images/anim/sanho_q.JPG", a:"ê¸°ë‘¥ì‚°í˜¸", reveal:"images/anim/sanho_a.JPG" },
      { q:"images/anim/silbu_q.JPG", a:"ì‹¤ë²„ì•„ë¡œì™€ë‚˜", reveal:"images/anim/silbu_a.JPG" },
      { q:"images/anim/smail_q.JPG", a:"ì›ƒëŠ”ê°œêµ¬ë¦¬", reveal:"images/anim/smail_a.JPG" },
      { q:"images/anim/soop_q.JPG", a:"ì²™ì‚­ë™ë¬¼ë¬¸", reveal:"images/anim/soop_a.JPG" },
      { q:"images/anim/subu_q.JPG", a:"ì„œë¶€ë‚˜ë¬´íƒ€ê¸°ë„ˆêµ¬ë¦¬", reveal:"images/anim/subu_a.JPG" },
      { q:"images/anim/taz_q.JPG", a:"íƒœì¦ˆë©”ì´ë‹ˆì•„ë°ë¹Œ", reveal:"images/anim/taz_a.JPG" },
      { q:"images/anim/tungso_q.JPG", a:"ì€ìƒì–´ëª©", reveal:"images/anim/tungso_a.JPG" },
      { q:"images/anim/umsac_q.JPG", a:"ì—¼ìƒ‰ë…ê°œêµ¬ë¦¬", reveal:"images/anim/umsac_a.JPG" }
      
    ];
    let animalProblems=[];
    let currentAnimal=0;

    document.getElementById("scienceBtn").addEventListener("click",()=>{
      animalProblems=shuffleArray(animalData.slice());
      currentAnimal=0;
      showScreen("animal-game");
      loadAnimal();
    });

function loadAnimal() {
  const p = animalProblems[currentAnimal];
  document.getElementById("animalImage").src = p.q;
  document.getElementById("animalAnswerImage").classList.add("hidden");
  document.getElementById("animalResult").textContent = "";
  document.getElementById("animalAnswerInput").value = "";
  document.getElementById("nextAnimalBtn").classList.add("hidden");
  document.getElementById("animalAnswerSection").style.display = "block";
  document.getElementById("animalAnswerInput").focus();
  document.getElementById("animalImage").classList.remove("hidden");
}

    function checkAnimalAnswer(){
      const p = animalProblems[currentAnimal];
      const userInput = document.getElementById("animalAnswerInput").value.trim();
      const result = document.getElementById("animalResult");
      if(!userInput) return alert("ì •ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
      const normalize = s => s.replace(/\s/g,"").toLowerCase();
      if(normalize(userInput) === normalize(p.a)){
        result.textContent = "ë§ì•˜ìŠµë‹ˆë‹¤!";
        result.style.color = "#16a34a";
      } else {
        result.textContent = `í‹€ë ¸ìŠµë‹ˆë‹¤! (ì •ë‹µ: ${p.a})`;
        result.style.color = "#dc2626";
      }
      document.getElementById("animalImage").classList.add("hidden");
      document.getElementById("animalAnswerImage").src = p.reveal;
      document.getElementById("animalAnswerImage").classList.remove("hidden");
      document.getElementById("animalAnswerSection").style.display = "none";
      document.getElementById("nextAnimalBtn").classList.remove("hidden");
    }

    document.getElementById("animalCheckBtn").addEventListener("click", checkAnimalAnswer);
    document.getElementById("animalAnswerInput").addEventListener("keydown", e=>{
      if(e.key==="Enter") checkAnimalAnswer();
    });

    document.getElementById("nextAnimalBtn").addEventListener("click", ()=>{
      currentAnimal++;
      if(currentAnimal >= animalProblems.length){
        alert("ëª¨ë“  ë¬¸ì œë¥¼ í’€ì—ˆìŠµë‹ˆë‹¤! ");
        showScreen("category-screen");
      } else {
        loadAnimal();
      }
    });

    document.getElementById("backToCategoryBtnAnimal").addEventListener("click", ()=>showScreen("category-screen"));

    // ìˆ«ìì•¼êµ¬
    let answer=[], tries=0, maxTries=6;
    document.getElementById("mathLogicBtn").addEventListener("click", ()=>{
      showScreen("game-screen");
      startGame();
    });
    document.getElementById("backToCategoryBtn").addEventListener("click", ()=>showScreen("category-screen"));
    document.getElementById("checkBtn").addEventListener("click", play);
    function startGame(){
      answer=[]; tries=0;
      document.getElementById('triesInfo').textContent=`í˜„ì¬ ì‹œë„: 0 / ${maxTries}`;
      document.getElementById('log').innerHTML=""; document.getElementById('userInput').value="";
      while(answer.length<4){
        const num=Math.floor(Math.random()*10);
        if(!answer.includes(num)) answer.push(num);
      }
      console.log("ì •ë‹µ:", answer.join(''));
    }
    function play(){
      const input = document.getElementById('userInput').value.trim();
      const log = document.getElementById('log');
      const info = document.getElementById('triesInfo');
      if(input.length!==4 || new Set(input).size!==4 || isNaN(input)){
        alert("ì„œë¡œ ë‹¤ë¥¸ ìˆ«ì 4ê°œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }
      tries++;
      info.textContent=`í˜„ì¬ ì‹œë„: ${tries} / ${maxTries}`;
      const guess = input.split('').map(Number);
      let strike=0, ball=0;
      for(let i=0;i<4;i++){
        if(guess[i]===answer[i]) strike++;
        else if(answer.includes(guess[i])) ball++;
      }
      const result = `${input} â†’ ${strike}S ${ball}B`;
      const li=document.createElement('li');
      li.textContent=result;
      log.prepend(li);
      if(strike===4){
        setTimeout(()=>{ alert(`ì •ë‹µì…ë‹ˆë‹¤! (${tries}ë²ˆ ë§Œì— ë§íˆì…¨ìŠµë‹ˆë‹¤!)`); showScreen("category-screen"); }, 100);
        return;
      }
      if(tries>=maxTries){
        setTimeout(()=>{ alert(`ì‹¤íŒ¨! ì •ë‹µì€ ${answer.join('')} ì…ë‹ˆë‹¤.`); showScreen("category-screen"); }, 100);
      }
      document.getElementById('userInput').value="";
    }

    // ì´ˆê¸° í™”ë©´
    showScreen("main-screen");
  </script>
</body>
</html>
